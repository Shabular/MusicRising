@model MusicRising.Models.BandVM

@{
    ViewData["Title"] = "Band Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@Html.Partial("_Details", new {
    Title = Model.BandName ?? "Band Details",
    ImageFileName = Model.ImageFileName,
    Details = new Dictionary<string, string>
    {
        {"Band Name", Model.BandName},
        {"Location", Model.Location.ToString()},
        {"Genre", Model.Genre.ToString()},
        {"Address", Model.Address}
    },
    Id = Model.BandId,
    IsOwner = Model.IsOwner,
    BookableLink = true,
    Latitude = Model.Latitude,
    Longitude = Model.Longitude
})

@section Scripts {
    <script>
        function initMap() {
            var latitude = @Model.Latitude;
            var longitude = @Model.Longitude;
            var location = { lat: latitude, lng: longitude };
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 15,
                center: location
            });
            var marker = new google.maps.Marker({
                position: location,
                map: map
            });
        }

        initMap();
    </script>
}